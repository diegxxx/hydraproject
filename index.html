<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>HeavxnDev - Portafolio</title>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="styles.css" rel="stylesheet"/>
    <link href="images/hell.jpg" rel="icon" type="image/x-icon"/>
    <style>
        :root {
            --bg-color: #0a0a0a;
            --card-bg: rgba(20, 20, 20, 0.8);
            --accent-color: #02F4FB;
            --text-color: #ffffff;
            --text-dim: #b3b3b3;
            --rank-owner: #ff4747;
            --rank-manager: #ffaa00;
            --rank-dev: #00aaff;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Poppins', sans-serif; }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            overflow-x: hidden;
            min-height: 100vh;
        }

        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            z-index: -1;
            top: 0;
            left: 0;
        }

        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            position: relative;
        }

        .card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease;
        }

        .card::before {
            content: "";
            height: 100%;
            width: 100%;
            position: absolute;
            left: 0;
            top: 0;
            background: radial-gradient(
                600px circle at var(--mouse-x) var(--mouse-y), 
                rgba(2, 244, 251, 0.15), 
                transparent 40%
            );
            z-index: 1;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .card:hover::before { opacity: 1; }
        .card > * { position: relative; z-index: 2; }

        .profile-card {
            display: flex;
            align-items: center;
            padding: 30px;
            gap: 25px;
            margin-bottom: 20px;
        }

        .profile-avatar {
            width: 100px;
            height: 100px;
            border-radius: 12px;
            border: 2px solid var(--accent-color);
            box-shadow: 0 0 15px rgba(2, 244, 251, 0.3);
        }

        .nametag { display: flex; align-items: center; gap: 15px; }
        .nick { font-size: 1.8rem; font-weight: 700; }

        .rank-selector { position: relative; }
        #rank-select {
            position: absolute;
            opacity: 0;
            cursor: pointer;
            width: 100%;
            height: 100%;
        }

        .rank {
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
        }

        .rank.owner { background: var(--rank-owner); box-shadow: 0 0 10px var(--rank-owner); }
        .rank.manager { background: var(--rank-manager); box-shadow: 0 0 10px var(--rank-manager); }
        .rank.dev { background: var(--rank-dev); box-shadow: 0 0 10px var(--rank-dev); }

        .discord-status {
            margin-top: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
            background: rgba(0, 0, 0, 0.3);
            padding: 10px;
            border-radius: 10px;
        }

        .discord-icon { width: 40px; height: 40px; border-radius: 50%; }
        .discord-status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            position: absolute;
            bottom: 0;
            right: 0;
            border: 2px solid #141414;
        }

        .online { background: #43b581; }
        .idle { background: #faa61a; }
        .dnd { background: #f04747; }
        .offline { background: #747f8d; }

        .status-dot { display: inline-block; width: 8px; height: 8px; border-radius: 50%; margin-right: 5px; }
        .status-dot.online { background: #43b581; }

        .nav-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 30px;
        }

        .nav-card {
            text-decoration: none;
            color: white;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            text-align: center;
        }

        .nav-card i { font-size: 1.5rem; color: var(--accent-color); }
        .nav-card:hover { transform: translateY(-5px); }

        .social-links { display: flex; justify-content: center; gap: 20px; }
        .social-link { font-size: 1.5rem; color: var(--text-dim); transition: 0.3s; }
        .social-link:hover { color: var(--accent-color); filter: drop-shadow(0 0 8px var(--accent-color)); }
    </style>
</head>
<body>
    <div id="particles-js"></div>

    <div class="container">
        <header class="profile-card card">
            <div class="profile-avatar-container">
                <img alt="Skin" class="profile-avatar" src="https://minesk.in/b44c9471e81d4435949cb06b9a6693ee" loading="lazy"/>
            </div>
            <div class="profile-details">
                <div class="nametag">
                    <span class="nick">HeavxnDev</span>
                    <div class="rank-selector">
                        <select id="rank-select">
                            <option value="owner">OWNER</option>
                            <option value="manager">MANAGER</option>
                            <option value="dev">DEV</option>
                        </select>
                        <span class="rank owner" id="rank-label">OWNER</span>
                    </div>
                </div>
                <p class="profile-description" style="color: var(--text-dim); margin-top: 5px;">Staff & Developer</p>
                <div class="discord-status">
                    <div class="discord-avatar-container" style="position: relative;">
                        <img alt="Discord" class="discord-icon" id="discordAvatar" src="https://cdn.discordapp.com/embed/avatars/0.png"/>
                        <div class="discord-status-indicator" id="discordStatusIndicator"></div>
                    </div>
                    <div class="discord-subtext" id="discordSubtext" style="font-size: 0.85rem;">Cargando...</div>
                </div>
            </div>
        </header>

        <nav class="nav-grid">
            <a class="nav-card card" href="aboutme.html"><i class="fas fa-user"></i><span>Sobre mí</span></a>
            <a class="nav-card card" href="projects.html"><i class="fas fa-laptop-code"></i><span>Proyectos</span></a>
            <a class="nav-card card" href="servers.html"><i class="fas fa-server"></i><span>Servidores</span></a>
            <a class="nav-card card" href="reviews.html"><i class="fas fa-star"></i><span>Reseñas</span></a>
            <a class="nav-card card" href="contact.html"><i class="fas fa-envelope"></i><span>Contacto</span></a>
        </nav>

        <footer class="social-links">
            <a class="social-link" href="https://discord.com/users/852696161738293258" target="_blank"><i class="fab fa-discord"></i></a>
            <a class="social-link" href="https://github.com/HellGrams" target="_blank"><i class="fab fa-github"></i></a>
        </footer>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/particles.js/2.0.0/particles.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Partículas Color #02F4FB ---
            particlesJS('particles-js', {
                particles: {
                    number: { value: 80, density: { enable: true, value_area: 800 } },
                    color: { value: '#02F4FB' },
                    shape: { type: 'star' },
                    opacity: { value: 0.5, random: true },
                    size: { value: 3, random: true },
                    line_linked: { enable: true, distance: 150, color: '#02F4FB', opacity: 0.4, width: 1 },
                    move: { enable: true, speed: 2, direction: 'none', out_mode: 'out' }
                },
                interactivity: {
                    detect_on: 'canvas',
                    events: { onhover: { enable: true, mode: 'grab' }, onclick: { enable: true, mode: 'push' } },
                    modes: { grab: { distance: 140, line_linked: { opacity: 1 } } }
                }
            });

            // --- Lanyard Discord API ---
            const DISCORD_USER_ID = '734801911760552037';
            const discordElements = {
                avatar: document.getElementById('discordAvatar'),
                statusIndicator: document.getElementById('discordStatusIndicator'),
                subtext: document.getElementById('discordSubtext')
            };

            async function loadDiscord() {
                try {
                    const r = await fetch(`https://api.lanyard.rest/v1/users/${DISCORD_USER_ID}`);
                    const json = await r.json();
                    if (json.success) {
                        const data = json.data;
                        if (data.discord_user.avatar) {
                            const ext = data.discord_user.avatar.startsWith('a_') ? 'gif' : 'png';
                            discordElements.avatar.src = `https://cdn.discordapp.com/avatars/${DISCORD_USER_ID}/${data.discord_user.avatar}.${ext}`;
                        }
                        const status = data.discord_status || 'offline';
                        discordElements.statusIndicator.className = `discord-status-indicator ${status}`;
                        const statusNames = { online: 'En línea', idle: 'Ausente', dnd: 'No molestar', offline: 'Desconectado' };
                        discordElements.subtext.innerHTML = `<span class="status-dot ${status}"></span> ${statusNames[status]}`;
                    }
                } catch (e) { discordElements.subtext.innerText = "Error cargando Discord"; }
            }

            // --- Selector de Rangos ---
            const rankLabel = document.getElementById('rank-label');
            const rankSelect = document.getElementById('rank-select');
            rankSelect.addEventListener('change', () => {
                rankLabel.textContent = rankSelect.value.toUpperCase();
                rankLabel.className = `rank ${rankSelect.value}`;
            });

            // --- EFECTO MOUSE (Conserva Glow) ---
            document.querySelectorAll('.card').forEach(card => {
                card.addEventListener('mousemove', e => {
                    const rect = card.getBoundingClientRect();
                    card.style.setProperty('--mouse-x', `${e.clientX - rect.left}px`);
                    card.style.setProperty('--mouse-y', `${e.clientY - rect.top}px`);
                });
            });

            loadDiscord();
            setInterval(loadDiscord, 30000);
        });
    </script>
</body>
</html>
